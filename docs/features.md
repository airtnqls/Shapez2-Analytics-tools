# Shapez2 고급 기능 가이드

## 🔍 역연산 시스템 (Reverse Engineering)

Shapez2의 가장 강력한 기능 중 하나는 역연산 시스템입니다. 이 기능을 통해 목표 도형을 만들기 위해 필요한 원본 도형을 찾을 수 있습니다.

### 역연산의 원리

1. **물리 역연산**: 물리 법칙을 역으로 적용하여 원본 도형 찾기
2. **핀 역연산**: 핀 연산을 역으로 적용
3. **스택 역연산**: 스택 연산을 역으로 분해
4. **크리스탈 역연산**: 크리스탈 생성 연산을 역으로 적용

### 사용 예시

```python
# 목표 도형 설정
target = Shape.from_string("ScSc:ScSc")

# 역연산 실행
candidates = ReverseTracer.inverse_apply_physics(target, depth=3)

# 결과 확인
for candidate in candidates:
    print(f"후보 도형: {candidate}")
```

## 📊 도형 분류 시스템

Shapez2는 도형을 자동으로 분류하여 분석합니다.

### 분류 타입

#### 1. 불가능형 (Impossible)

물리적으로 불가능한 도형들입니다.

**특징:**

- 물리 법칙을 위반하는 구조
- 안정성이 없는 조합
- 논리적으로 모순되는 패턴

**예시:**

```
P*-+c  # 핀 위에 빈 공간 후 크리스탈
[^P]P.*c  # 핀이 아닌 조각 위에 핀, 그 후 크리스탈
```

#### 2. 클로형 (Claw)

클로 연산이 가능한 도형들입니다.

**특징:**

- 특정 패턴을 가진 구조
- 클로 연산으로 변환 가능
- 정확한 알고리즘으로 처리

#### 3. 하이브리드형 (Hybrid)

복합적인 특성을 가진 도형들입니다.

**특징:**

- 여러 연산이 조합된 구조
- 복잡한 제작 과정
- 다양한 분석이 필요

#### 4. 코너형 (Corner)

코너 연산이 가능한 도형들입니다.

**특징:**

- 모서리 중심의 구조
- 코너 추적 알고리즘 적용
- 특정 패턴 분석

## 🌳 공정 트리 시각화

도형 제작 과정을 트리 형태로 시각화하여 제작 단계를 명확히 보여줍니다.

### 트리 구조

```
목표 도형
├── 연산1 (스택)
│   ├── 입력1 (기본 도형)
│   └── 입력2 (기본 도형)
├── 연산2 (회전)
│   └── 입력 (이전 결과)
└── 연산3 (색상 변경)
    └── 입력 (이전 결과)
```

### 사용법

1. **트리 생성**: "Generate Process Tree" 버튼 클릭
2. **시각화**: 트리 구조가 그래픽으로 표시
3. **탐색**: 각 노드를 클릭하여 상세 정보 확인

## 🔧 고급 분석 도구

### 1. 클로 추적 (Claw Tracer)

클로 연산을 위한 특수 알고리즘입니다.

**알고리즘 단계:**

1. 핀 위치 확인
2. 크리스탈 위치 분석
3. 일반 도형 재배치
4. 크리스탈 전파
5. 결과 검증

### 2. 코너 추적 (Corner Tracer)

코너 연산을 위한 추적 시스템입니다.

**특징:**

- 모서리 패턴 인식
- 최적 경로 계산
- 효율적인 변환

### 3. 조합 생성기 (Combination Generator)

유효한 도형 조합을 생성하는 도구입니다.

**기능:**

- 불가능한 패턴 제외
- 유효한 조합만 생성
- 길이별 분류

## 📈 배치 처리 시스템

대량의 도형 데이터를 효율적으로 처리할 수 있습니다.

### 배치 모드 사용법

```bash
# 기본 사용법
python run_analysis.py input.txt output.txt

# 커스텀 파라미터
python run_analysis.py --input data/shapes.txt --output results.txt
```

### 처리 옵션

- **클로 분석**: 클로 가능/불가능 도형 분류
- **코너 분석**: 코너 연산 가능 도형 분석
- **하이브리드 분석**: 복합 도형 분석
- **통계 생성**: 분석 결과 통계

## 🎨 GUI 고급 기능

### 1. 드래그 앤 드롭

- **사분면 드래그**: 개별 사분면을 다른 위치로 이동
- **행/열 드래그**: 전체 행이나 열을 이동
- **도형 간 복사**: 도형 간 조각 복사

### 2. 히스토리 시스템

- **실행 취소/다시 실행**: Ctrl+Z, Ctrl+Y
- **입력 히스토리**: 이전 입력 값들 저장
- **데이터 히스토리**: 처리된 데이터 저장

### 3. 로그 시스템

- **로그 레벨 조정**: 상세/간단 로그 선택
- **실시간 로그**: 백그라운드 작업 진행 상황
- **로그 필터링**: 특정 작업만 로그 표시

### 4. 데이터 탭

- **다중 탭**: 여러 데이터 세트 동시 처리
- **탭 복제**: 기존 탭을 복제하여 새로운 분석
- **탭 저장**: 분석 결과를 파일로 저장

## 🔍 디버깅 도구

### 1. 단계별 실행

복잡한 연산을 단계별로 실행하여 중간 결과를 확인할 수 있습니다.

### 2. 검증 시스템

- **물리 검증**: 물리 법칙 준수 확인
- **안정성 검증**: 도형의 안정성 확인
- **유효성 검증**: 도형 코드의 유효성 확인

### 3. 성능 모니터링

- **실행 시간 측정**: 각 연산의 실행 시간
- **메모리 사용량**: 메모리 사용량 모니터링
- **CPU 사용률**: CPU 사용률 추적

## 🚀 성능 최적화

### 1. 알고리즘 최적화

- **캐싱**: 자주 사용되는 연산 결과 캐시
- **병렬 처리**: 멀티스레딩을 통한 병렬 처리
- **메모리 관리**: 효율적인 메모리 사용

### 2. GUI 최적화

- **백그라운드 처리**: 무거운 연산을 별도 스레드에서 실행
- **점진적 업데이트**: UI를 점진적으로 업데이트
- **가상화**: 대용량 데이터의 가상화 표시

### 3. 데이터 최적화

- **청크 처리**: 큰 데이터를 작은 청크로 분할
- **압축**: 데이터 압축을 통한 저장 공간 절약
- **인덱싱**: 빠른 검색을 위한 인덱스 생성

## 🎯 사용 시나리오

### 1. 게임 플레이어

- **도형 제작 방법 찾기**: 복잡한 도형의 제작 방법 탐색
- **최적 경로 찾기**: 가장 효율적인 제작 경로 발견
- **도형 분석**: 주어진 도형의 특성 분석

### 2. 연구자

- **패턴 분석**: 도형 패턴의 수학적 분석
- **알고리즘 연구**: 새로운 연산 알고리즘 개발
- **데이터 마이닝**: 대량 도형 데이터 분석

### 3. 개발자

- **플러그인 개발**: 새로운 연산 추가
- **API 활용**: Shapez2의 API를 활용한 외부 도구 개발
- **확장 기능**: 기존 기능 확장



---



이 문서는 Shapez2의 고급 기능들을 상세히 설명합니다. 더 자세한 정보는 메인 README.md를 참조하세요.
